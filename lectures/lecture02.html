<!DOCTYPE html>
<html>
<head>
    <title>Interactive Graphics Lesson</title>
    
    <!-- Stylesheets -->
    <link rel="stylesheet" type="text.css" href="../css/normalize.css">
    <link rel="stylesheet" type="text/css" href="../js/codemirror-3.20/lib/codemirror.css">
	<link rel="stylesheet" type="text/css" href="../css/split-pane.css">
	<link rel="stylesheet" type="text/css" href="../css/graphics-style.css">
	
	<!-- Fonts -->
	<link href='http://fonts.googleapis.com/css?family=Lobster' rel='stylesheet' type='text/css'>
	<link href='http://fonts.googleapis.com/css?family=Lato' rel='stylesheet' type='text/css'>
    
    <!-- Javascripts -->
    <script type="text/javascript" src="../js/codemirror-3.20/lib/codemirror.js"></script>
    <script type="text/javascript" src="../js/codemirror-3.20/mode/javascript/javascript.js"></script>
    <script type="text/javascript" src="../js/jquery-1.10.2.js"></script>
	<script type="text/javascript" src="../js/split-pane.js"></script>
    <script type="text/javascript" src="../js/processing-1.4.1.min.js"></script>
	
	<script type="text/javascript"
	  src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
	</script>

	<script type="text/x-mathjax-config">
	MathJax.Hub.Config({
	  tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
	});
	</script>
	
	<script>
		$(function() {
			$('div.split-pane').splitPane();
		});
	</script>
        <script>
                function load(url){
                        // Adding the script tag to the head as suggested before
                        var head = document.getElementsByTagName('head')[0];
                        var script = document.createElement('script');
                        script.type = 'text/javascript';
                        script.src = url;

                        // Fire the loading
                        head.appendChild(script);
                }
        </script>
</head>
<body>
	<div id="nav">
		<ul>
		<li>CS1: FALL 2014</li>
		<li><a href="../syllabus.html">Syllabus</a>
		<li><a href="../schedule.html">Schedule</a>
		<li><a href="../short_assignments.html">Short assignments</a>
		<li><a href="../lab_assignments.html">Labs</a>
		<li><a href="../exams.html">Exams</a>
		<li><a href="../software.html">Course software</a>
		</ul>
	</div>
	<div id="content">
		<div class="split-pane-frame">
			<div class="split-pane fixed-top">
				<div class="split-pane-component" id="top-component">
					<div class="pane-decoration">
						<div id="lecture">
							<h1 id="abstraction-functions-graphics-and-coding-style">Abstraction, functions, graphics, and coding style</h1>
							<h2 id="abstraction-the-value-of-temporary-ignorance">Abstraction: The value of (temporary) ignorance</h2>
							<p>When we build higher-level concepts from simpler pieces and then work with those higher-level concepts, we are taking advantage of <strong>abstraction</strong>. Abstraction is a major tool in computer science that we'll come back to over and over.</p>
							<p><strong>Abstraction hides the details of how things work.</strong> Functions are our first example of abstraction. Look at this program, in <a href="lecture02-files/abstraction.js">abstraction.js</a>:</p>
							<pre class="sourceCode"><code class="sourceCode javascript"><span class="kw">function</span> revenge(){<br />    print(<span class="st">&quot;You killed my father.&quot;</span>);  <br />    print(<span class="st">&quot;Prepare to die.&quot;</span>);  <br />}<br /><br /><span class="kw">function</span> greet(){<br />    print(<span class="st">&quot;Hello.&quot;</span>);  <br />    print(<span class="st">&quot;My name is Inigo Montoya.&quot;</span>);  <br />}<br /><br />greet();<br />revenge();  <br />greet(); <br />revenge();</code></pre>
							<p>We defined two functions, each in terms of a sequence of simpler commands. Once we defined those functions, we were able to just use them without thinking (too much) about how they worked.</p>
							<p>Abstraction helps us in areas beyond computer science. For example, when I press the gas pedal on my car, a lot of stuff happens, but because I have the higher-level &quot;push-gas-pedal-car-moves&quot; concept, I don't have to think about the details of what is going on in the drive train (engine, transmission, differential, etc.) to make my car go.</p>
							<p>Try this exercise some time: consider some other course you have taken, and identify where abstraction came into play.</p>
							<h2 id="calling-a-library-function">Calling a library function</h2>
							<p>Here's another big win for functions. You can use a function <em>someone else</em> wrote, without knowing exactly the internal details of the function. Let's look at an example where <a href="lecture02-files/datetime_test.js">datetime_test.js</a> uses a function from  <a href="lecture02-files/simplefunctions.js">simplefunctions.js</a>.
							<pre class="sourceCode"><code class="sourceCode javascript">load("lecture02-files/simplefunctions.js");<br /><br />print_date_and_time();</code></pre>
							<p>The first line says that this program will use the <code>simplefunctions</code> library of functions by placing <code>simplefunction.js</code> into the <code>&lt;head&gt;</code> of the HTML document of this web page. The program then calls the <code>print_date_and_time</code> function. When this function is called, the interpreter saves the current value of the program counter, sets the program counter to the beginning of the <code>print_date_and_time</code> function somewhere in the <code>simplefunctions</code> script, executes the code it finds there, and then resets the program counter to the original, saved value.</p>
							<h2 id="functions-that-take-parameters">Functions that take parameters</h2>
							<p>Just like the print command, functions can take <strong>parameters</strong>: additional information that influences what the function does. This code, in <a href="lecture02-files/sqrt_text.js">sqrt_text.js</a>:</p>
							<pre class="sourceCode"><code class="sourceCode javascript">load("lecture02-files/simplefunctions.js"); <br /><br />print_sqrt(<span class="dv">4</span>);<br />print_sqrt(<span class="dv">9</span>);</code></pre>
							<p>prints the following to the console window:</p>
							<pre><code>2
3
							</code></pre>
							<p>When making a function call, we write the values of the parameters inside the parentheses. We say that we <strong>pass</strong> the parameters to the function at the point of call. Functions may take multiple parameters, in which case we separate them by commas when we call the function. Here's an example, in <a href="lecture02-files/simple_graphics.js">simple_graphics.js</a>.
							<pre class="sourceCode"><code class="sourceCode javascript">size(250,300);<br /><br />fill(0,0,0);<br /><br />ellipse(<span class="dv">100</span>, <span class="dv">100</span>, <span class="dv">50</span>, <span class="dv">50</span>);<br />ellipse(<span class="dv">175</span>, <span class="dv">100</span>, <span class="dv">50</span>, <span class="dv">50</span>);</code></pre>
							<p>Let's look at what happens here. First, the function <code>size</code> sets the size of the window. Second, we call the function <code>fill</code> to set the fill color as black. Then we call the function <code>ellipse</code>, passing it four parameters. The first parameter, 125, says to draw the ellipse at <em>x</em> coordinate 175 in the window. The second parameter, 100, says to use the <em>y</em> coordinate 100. The third parameter, 50, says that the radii of the ellipse should be 50. The final line calls the <code>ellipse</code> function again, with different parameters.</p>
							<h2 id="graphics-coordinates">Graphics coordinates</h2>
							<p>We glossed over what the coordinates passed to the <code>draw_circle</code> functions really mean. When we open a window for graphics, there's a coordinate system within the window. Coordinate correspond to pixels in the window, with (0, 0) at the upper left corner of the window. The coordinates (125, 100) mean the pixel that is 125 pixels to the right and 100 pixels below the upper left corner.</p>
							<p>Think of it this way: starting from the upper left corner of the graphics window, <em>x</em> coordinates increase to the right, and <em>y</em> coordinates increase down from the top. If you think about how <em>x</em> and <em>y</em> coordinates usually work in mathematics, graphics on a computer doesn't quite match up. The <em>x</em> direction works, but in math, increasing <em>y</em> coordinates go <em>up</em>, whereas in computer graphics, increasing <em>y</em> coordinates go <em>down</em>.</p>
							<p>What do the parameters passed to <code>draw_circle</code> mean? The first two parameters give the <em>x</em> and <em>y</em> coordinates of the circle's center, and the third coordinate gives the circle's radius in pixels. Here's a simple exercise for you to try: What would you see if you called <code>draw_circle(0, 0, 100)</code>?</p>
							<h2 id="good-coding-style">Good coding style</h2>
							<p>Computer programs are not just for computers. Good code should
							do two things:</p>
							<ol style="list-style-type: decimal;">
							<li>It should allow the computer to solve a useful or
							interesting problem.</li>
							<li>It should describe a solution to the problem in a way that
							a human reader can understand it.</li>
							</ol>
							<p>A well-written program is more than a machine for solving a
							problemâ€”it is in a real sense a description of a solution to a problem.
							How to write good, human-readable code is a major focus of this course,
							and we'll come back to it again and again.</p>
							<p>Let's look at the following bad program, in <a href="lecture02-files/bad_program.js">bad_program.js</a>:<br /></p>
							<pre class="sourceCode"><code class="sourceCode python"><span class="ch"></span></code>function whatever(){<br /><o:p></o:p>fill(0,128,0);<br />rect(0, 300, 400, 100);<br /><o:p></o:p>fill(128, 102, 51);<br />rect(200, 250, 130, 100);<br /><o:p></o:p>fill(255,0,0);<br /><o:p></o:p>triangle(200, 250, 330, 250, 265, 20);<br /><o:p></o:p>fill(153,128,77);<br />rect(280, 310, 25, 40);<br /><o:p></o:p>fill(0,0,0);<br /><o:p></o:p>ellipse(300, 330, 3,3);<br />}<o:p></o:p>size(400,400);<br /><o:p></o:p>noStroke();<o:p></o:p><br />whatever();</pre>
							<p>What does this program do? Does it describe how to solve a
							problem? What's the problem? Is this is a good solution? Could you
							modify it easily to solve a more interesting problem, without even
							knowing what the program does?</p>
							<p>In this case, the program is short and you could figure out
							what it does by running it with JavaScript. It would still be a lot of work
							to figure out what each line of code was intended to do just from
							reading the code without running it.</p>

							<h3 id="explaining-your-code-with-comments">Explaining
							your code with comments</h3>
							<p>You can use the <code>//</code> symbols in JavaScript
							code to indicate code that JavaScript should ignore. On a line of code,
							everything after the double slashes is called a <strong>comment</strong>
							and is ignored by JavaScript; it's there just for human readers.</p>
							<p>Here's an example, in <a href="lecture02-files/house_good.js">house_good.js</a>,
							where we improve the above program by adding comments and whitespace,
							and by using a more descriptive function function name. By <strong>whitespace</strong>,
							we mean spaces, tabs, and "newlines." Whitespace helps human readers
							understand the structure of a program, much as breaking prose into
							chapters, sections, and paragraphs helps readers understand the
							structure of a book.</p>

							<div class="hlcode">
							<div class="syntax"><pre><code class="sourceCode python"><span
							 class="co">// Program to draw a simple house</span></code><span
							 class="c1"></span><br /><code
							 class="sourceCode python"><span class="co">// cs1 example of use of commenting and whitespace</span></code><span
							 class="c1"></span><br /><code
							 class="sourceCode python"><span class="co">// author Devin Balkcom (adapted from Python to Javascript by L'Team)</span></code><span
							 class="c1"></span><br /><code
							 class="sourceCode python"><span class="co">// Winter, 2014</span></code><span
							 class="c1"><br /><br /></span><span
							 class="nx">size</span><span class="p">(</span><span
							 class="mi">400</span><span class="p">,</span><span
							 class="mi">400</span><span class="p">);</span><br /><span
							 class="nx">noStroke</span><span class="p">();<br /><br /></span><code
							 class="sourceCode python"><span class="co">// Function to draw a house.</span></code><span
							 class="c1"></span><br /><code
							 class="sourceCode javascript"><span class="kw">function</span></code> <span
							 class="nx">drawHouse</span><span class="p">(){</span><br /><span
							 class="c1">	</span><code class="sourceCode python"><span
							 class="co">//draw the lawn</span></code><span
							 class="c1"></span><br /><span class="nx">	</span><span
							 class="p"></span><span class="nx">fill</span><span
							 class="p">(</span><span class="mi">0</span><span
							 class="p">,</span><span class="mi">128</span><span
							 class="p">,</span><span class="mi">0</span><span
							 class="p">);</span> <code class="sourceCode python"><span
							 class="co">//dark green</span></code><span
							 class="c1"></span><br /><span class="nx">	</span><span
							 class="p"></span><span class="nx">rect</span><span
							 class="p">(</span><span class="mi">0</span><span
							 class="p">,</span> <span class="mi">300</span><span
							 class="p">,</span> <span class="mi">400</span><span
							 class="p">,</span> <span class="mi">100</span><span
							 class="p">);<br /><br /></span><span
							 class="c1">	</span><code class="sourceCode python"><span
							 class="co">//draw the main square part of the house</span></code><span
							 class="c1"></span><br /><span class="nx">	</span><span
							 class="nx">fill</span><span class="p">(</span><span
							 class="mi">128</span><span class="p">,</span> <span
							 class="mi">102</span><span class="p">,</span> <span
							 class="mi">51</span><span class="p">);</span> <code
							 class="sourceCode python"><span class="co">// brown</span></code><span
							 class="c1"></span><br /><span class="nx">	</span><span
							 class="p"></span><span class="nx">rect</span><span
							 class="p">(</span><span class="mi">200</span><span
							 class="p">,</span> <span class="mi">250</span><span
							 class="p">,</span> <span class="mi">130</span><span
							 class="p">,</span> <span class="mi">100</span><span
							 class="p">);<br /><br /></span><span
							 class="c1">	</span><code class="sourceCode python"><span
							 class="co">/<span style="font-family: monospace;">/draw the roof</span></span></code><span
							 class="c1"></span><br /><span class="nx">	</span><span
							 class="nx">fill</span><span class="p">(</span><span
							 class="mi">255</span><span class="p">,</span><span
							 class="mi">0</span><span class="p">,</span><span
							 class="mi">0</span><span class="p">);</span><code
							 class="sourceCode python"><span class="co"> // red</span></code><span
							 class="c1"></span><br /><span class="nx">	</span><span
							 class="nx">triangle</span><span class="p">(</span><span
							 class="mi">200</span><span class="p">,</span> <span
							 class="mi">250</span><span class="p">,</span> <span
							 class="mi">330</span><span class="p">,</span> <span
							 class="mi">250</span><span class="p">,</span> <span
							 class="mi">265</span><span class="p">,</span> <span
							 class="mi">20</span><span class="p">);<br /><br /></span><span
							 class="c1">	</span><code class="sourceCode python"><span
							 class="co">/<span style="font-family: monospace;">/draw a door</span></span></code><span
							 class="c1"></span><br /><span class="nx">	</span><span
							 class="nx">fill</span><span class="p">(</span><span
							 class="mi">153</span><span class="p">,</span><span
							 class="mi">128</span><span class="p">,</span><span
							 class="mi">77</span><span class="p">);</span> <code
							 class="sourceCode python"><span class="co">// light brown</span></code><span
							 class="c1"></span><span class="nx">	<br /></span><span
							 class="p">	</span><span class="nx">rect</span><span
							 class="p">(</span><span class="mi">280</span><span
							 class="p">,</span> <span class="mi">310</span><span
							 class="p">,</span> <span class="mi">25</span><span
							 class="p">,</span> <span class="mi">40</span><span
							 class="p">);<br /><br /></span><span
							 class="c1 co">	</span><code
							 class="sourceCode python"><span class="co">// draw a rectangle</span></code><span
							 class="nx"><br />	</span><span class="nx">fill</span><span
							 class="p">(</span><code class="sourceCode python"></code><span
							 class="p"></span><code class="sourceCode python"><span
							 class="dv">0</span></code><span class="p">,</span><code
							 class="sourceCode python"></code><span class="p"></span><code
							 class="sourceCode python"><span class="dv">0</span></code><code
							 class="sourceCode python"></code><span class="p"></span><code
							 class="sourceCode python"><span class="dv"></span></code><span
							 class="mi"></span><span class="p">,</span><code
							 class="sourceCode python"></code><span class="p"></span><code
							 class="sourceCode python"><span class="dv">0</span></code><span
							 class="mi"></span><span class="p">);</span> <code
							 class="sourceCode python"><span class="co">//black</span></code><span
							 class="c1"></span><br /><span class="nx">	ellipse</span><span
							 class="p">(</span><span class="mi">300</span><span
							 class="p">,</span> <span class="mi">330</span><span
							 class="p">,</span> <span class="mi">3</span><span
							 class="p">,</span><span class="mi">3</span><span
							 class="p">);</span><br /><span class="p">}</span><br /><span
							 class="nx">drawHouse</span><span class="p">();</span>
							</pre>
							</div>
						</div>


							<p>We can now see exactly what the program is intended to do, and
							also which lines of code accomplish which parts of the solution.</p>
							<p>How much should you comment your own code? Here are some
							guidelines:</p>
							<ol style="list-style-type: decimal;">
							<li>Always put a comment at the top of the program or file
							describing the overall intent and how the program works.</li>
							<li>Always put a comment before the beginning of each function
							you define, indicating the purpose.</li>
							<li>Always comment something that might be mysterious to even
							an experienced programmer</li>
							</ol>
							<p>Good comments add new information, but that does not mean you
							should comment every single line of code. Here's a distracting comment
							that is <em>not</em> useful:</p>
							<pre class="sourceCode"><code class="sourceCode python">rect(<span class="dv">280</span>, <span class="dv">310</span>, <span class="dv">25</span>, <span class="dv">40</span>); <span class="co">// draw a rectangle</span></code></pre>
							<p>We can see from the function name that this line draws a
							rectangle. A more useful comment would tell us what we are trying to do
							with the rectangle (in this case, draw a door). Another comment might
							tell us the fill color:</p>
							<pre class="sourceCode"><code class="sourceCode python"><span class="co">// draw the door</span><br />fill(</code><span class="p"></span><code class="sourceCode python"><span class="dv">153, 128, 77</span></code><span class="mi"></span><span class="p"></span><span class="mi"></span><code class="sourceCode python"><span class="dv"></span>); <span class="co">// light brown</span><br />rect(<span class="dv">280</span>, <span class="dv">310</span>, <span class="dv">25</span>, <span class="dv">40</span>);</code></pre>
							<h3 id="more-graphics-functions">More graphics functions</h3>
							<p>In the previous example, we saw some new graphics functions:</p>
							<ul>
							<li>
							<p><code>rect</code> draws a rectangle, given
							four parameters. The first two give the <em>x</em> and <em>y</em>
							coordinates of the upper left corner of the rectangle, the third
							parameter gives the rectangle's width, and the fourth parameter gives
							the rectangle's height. So the call <code>rect(200, 250, 130,
							100)</code> draws a rectangle with an upper left corner at (200,
							250) and a lower right corner at (330, 350).</p>
							</li>
							<li>
							<p><code>triangle</code> takes six parameters,
							which it groups into three consecutive pairs. Each pair gives the
							coordinates of one vertex of the triangle. So the call <code>triangle(200,
							250, 330, 250, 265, 200)</code> draws a triangle with vertices at
							(200, 250), (330, 250), and (265, 200).</p>
							</li>
							<li>
							<p><code>fill</code> says that until told
							otherwise (by a later call to <code>fill</code>), we are
							drawing all filled shapes in the color specified by its three
							parameters. The parameters give the total out of 255 of red, green, and
							blue (in that order) that, when mixed together, form the color. White
							would be (255, 255, 255), black would be (0, 0, 0), pure red would be
							(255, 0, 0), pure yellow would be (255, 255, 0) (mixing red and green),
							and so forth. Play with changing the parameters to <code>fill</code>
							in the program that draws the house.</p>
							</li>
							<li>
							<p><code>size</code> defines the dimensions of
							the space on which we draw, specified by its two parameters <em>x</em>
							and <em>y</em>. See what happens when you change the
							dimensions.</p>
							</li>
							<li>
							<p><code> noStroke</code> just says that when we
							draw rectangles, circles, and triangles, draw just the inner filled
							part, not the outline. See what happens if you comment out the call to <code>
							noStroke</code> by putting <code>//</code> in front
							of it.</p>
							</li>
							</ul>
							<h3 id="using-whitespace-well">Using whitespace well</h3>
							<p>JavaScript ignores certain types of whitespace, like blank
							lines and spaces after commas. You should use blank lines to group your
							code into logical segments. A good rule of thumb is that there should
							be a blank line roughly every 3-10 lines of code. If you have fewer
							blank lines, look hard to see whether your code can be broken down into
							smaller chunks. You can think of these blank lines as serving the same
							purpose that new paragraphs do in English writing.</p>
							<p>It's also good style to put a space after every comma, just as
							you would in written English.</p>
						</div>
					</div>
				</div>
				<div class="split-pane-divider" id="divider"></div>
				<div class="split-pane-component" id="bottom-component">
					<div class="pane-decoration">
						<div id="console-container">
							<p class="small-title">Editor</p>
							<textarea id="editor"></textarea>
							<button id="compile-button">Compile</button>
							<button id="stop-button">Stop Sketch</button>
							<p class="small-title">Output</p>
							<p id="output"></p>
						</div>
						<div id="canvas-container">
							<p class="small-title">Canvas</p>
							<canvas id="canvas1" height="800px" width="1200px"></canvas>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<script type="text/javascript" src="../js/graphics-canvas.js"></script>
	<script type="text/javascript" src="../js/processing-wrapper.js"></script>
</body>
</html>
