<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="generator" content="pandoc" />
  <title></title>
  <style type="text/css">
/*<![CDATA[*/
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode, table.sourceCode pre 
   { margin: 0; padding: 0; border: 0; vertical-align: baseline; border: none; }
td.lineNumbers { border-right: 1px solid #AAAAAA; text-align: right; color: #AAAAAA; padding-right: 5px; padding-left: 5px; }
td.sourceCode { padding-left: 5px; }
code.sourceCode span.kw { color: #007020; font-weight: bold; } 
code.sourceCode span.dt { color: #902000; }
code.sourceCode span.dv { color: #40a070; }
code.sourceCode span.bn { color: #40a070; }
code.sourceCode span.fl { color: #40a070; }
code.sourceCode span.ch { color: #4070a0; }
code.sourceCode span.st { color: #4070a0; }
code.sourceCode span.co { color: #60a0b0; font-style: italic; }
code.sourceCode span.ot { color: #007020; }
code.sourceCode span.al { color: red; font-weight: bold; }
code.sourceCode span.fu { color: #06287e; }
code.sourceCode span.re { }
code.sourceCode span.er { color: red; font-weight: bold; }
/*]]>*/
  </style>
</head>
<body>
<script type="text/javascript"
  src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
});
</script>

<link rel="stylesheet" href="http://www.cs.dartmouth.edu/~cs1/azul.css" type="text/css" />


<div id = "menubar">
<ul>
<li><a href="http://www.cs.dartmouth.edu/~cs1/syllabus.html">Syllabus</a>
<li><a href="http://www.cs.dartmouth.edu/~cs1/schedule.html">Schedule</a>
<li><a href="http://www.cs.dartmouth.edu/~cs1/shortassign/short_assignments.html">Short assignments</a>
<li><a href="http://www.cs.dartmouth.edu/~cs1/labs/lab_assignments.html">Labs</a>
<li><a href="http://www.cs.dartmouth.edu/~cs1/exams.html">Exams</a>
<li><a href="http://www.cs.dartmouth.edu/~cs1/software.html">Course software</a>
<li> <a href="http://greenteapress.com/thinkpython/thinkpython.html">Book</a>
<li><A HREF="&#109;&#97;&#105;&#108;&#116;&#111;&#58;%63%73%31%68%65%6C%70%40%63%73%2E%64%61%72%74%6D%6F%75%74%68%2E%65%64%75">Get help</A>
</ul>
</div>

<div id = "termtitle"> CS 1:  Winter 2012 </div> 
<h1 id="short-assignment-3">Short Assignment 3</h1>
<p><a
href="http://www.cs.dartmouth.edu/~cs1/shortassign/rich/sa_rich.html">Short Assignment 3</a> is due on Friday.</p>
<h1 id="coding-style">Coding style</h1>
<p>We've already discussed comments, which are one tool to make reading and understanding programs easier. Another way to improve understandability is to use meaningful names for variables. For instance, consider the following code:</p>
<pre class="sourceCode"><code class="sourceCode python">x = <span class="dv">73</span><br />y = x / <span class="dv">12</span><br />z = x % <span class="dv">12</span><br /><br /><span class="kw">print</span> y<br /><span class="kw">print</span> z</code></pre>
<p>What does it do? We could tell by running it, or we could add comments. Or we could use more descriptive names than <code>x</code>, <code>y</code>, and <code>z</code>.</p>
<pre class="sourceCode"><code class="sourceCode python">height_in_inches = <span class="dv">73</span><br />feet = height_in_inches / <span class="dv">12</span><br />inches = height_in_inches % <span class="dv">12</span><br /><br /><span class="kw">print</span> feet<br /><span class="kw">print</span> inches</code></pre>
<p>Without using comments, we've improved the understandability of the code considerably. This is not to say that comments should be jettisoned completely in favor of meaningful names! Rather, the two strategies work together.</p>
<p>Next, consider this code, with meaningful names:</p>
<pre class="sourceCode"><code class="sourceCode python">radius = <span class="dv">12</span><br />circumference = <span class="fl">6.28</span> * radius<br />area = <span class="fl">3.14</span> * radius * radius<br />volume = <span class="fl">4.77</span> * radius * radius * radius<br /><br /><span class="kw">print</span> area<br /><span class="kw">print</span> volume</code></pre>
<p>It's easy to see what it does because of the names we've chosen. But it could be better, especially the constant floating-point values we've stuck in there. Presumably, we're confident in our ability to calculate 4.0 * 3.0 / pi (notice that I have to make sure that at least one of 4 and 3 is a float so that I don't get integer division), but if we make a mistake, it's going to be very difficult to track down.</p>
<pre class="sourceCode"><code class="sourceCode python">pi = <span class="fl">3.14</span><br /><br />radius = <span class="dv">12</span><br />circumference = <span class="dv">2</span> * pi * radius<br />area = pi * radius * radius<br />volume = <span class="fl">4.0</span> / <span class="fl">3.0</span> * pi * radius * radius * radius<br /><br /><span class="kw">print</span> area<br /><span class="kw">print</span> volume</code></pre>
<p>Here, we've replaced the number 3.14 with a variable <code>pi</code> and wrote out 4.0 / 3.0 instead of precomputing its value.</p>
<p>Some constants are so widely-used that Python defines them for us. For instance, this code:</p>
<pre class="sourceCode"><code class="sourceCode python"><span class="ch">from</span> math <span class="ch">import</span> pi<br /><br /><span class="kw">print</span> pi</code></pre>
<p>prints out 3.14159265359. An added benefit of using Python's pi is that the Python designers have gone to the trouble to calculate a much more precise approximation of pi than we did.</p>
<h1 id="while-loops-if-statements-and-robots">while-loops, if-statements, and robots</h1>
<p>For this lecture, we will use a simple library to simulate controlling Roomba vacuum-cleaner mobile robots. The functions that simulate the robot are in <a href="robotsim.py">robotsim.py</a>. You will need to add cs1lib.py, robotsim.py, <a href="create_robot.png">create_robot.png</a>, and <a href="robotsim_floor01.png">robotsim_floor01.png</a> to your project to run any of the robot-simulation programs.</p>
<p>Here is a short example, in <a href="robot_dance.py">robot_dance.py</a>:</p>
<pre class="sourceCode"><code class="sourceCode python"><span class="ch">from</span> robotsim <span class="ch">import</span> *<br /><br /><span class="kw">def</span> robot_dance():<br />    place_robot(<span class="dv">200</span>, <span class="dv">200</span>, <span class="dv">0</span>)    <span class="co"># put the robot on the floor</span><br /><br />    straight()                  <span class="co"># go straight a few feet</span><br />    left()                      <span class="co"># turn left 90 degrees</span><br />    right()                     <span class="co"># turn right 90 degrees</span><br /><br />    stop()                      <span class="co"># done dancing</span><br /><br />start_simulator(robot_dance)</code></pre>
<p>Let's have the robot square dance. No, it won't allemande left, but it can move in a square, as in <a href="one_square.py">one_square.py</a>:</p>
<pre class="sourceCode"><code class="sourceCode python"><span class="ch">from</span> robotsim <span class="ch">import</span> *<br /><br /><span class="kw">def</span> make_square():<br />    place_robot(<span class="dv">200</span>, <span class="dv">200</span>, <span class="dv">0</span>)    <span class="co"># put the robot on the floor</span><br /><br />    straight()                  <span class="co"># go straight a few feet</span><br />    left()                      <span class="co"># turn left 90 degrees</span><br />    straight()                  <span class="co"># go straight a few feet</span><br />    left()                      <span class="co"># turn left 90 degrees</span><br />    straight()                  <span class="co"># go straight a few feet</span><br />    left()                      <span class="co"># turn left 90 degrees</span><br />    straight()                  <span class="co"># go straight a few feet</span><br />    left()                      <span class="co"># turn left 90 degrees</span><br /><br />    stop()                      <span class="co"># done dancing</span><br /><br />start_simulator(make_square)</code></pre>
<p>You might notice that the robot doesn't turn exactly 90 degrees. That's because the dance floor is a little slippery.</p>
<p>Robots don't care how long they do the same thing over and over. What if I wanted to instruct Roomba-licious to go in a square <em>forever</em>?</p>
<pre class="sourceCode"><code class="sourceCode python"><span class="ch">from</span> robotsim <span class="ch">import</span> *<br /><br /><span class="kw">def</span> make_square():<br />    place_robot(<span class="dv">200</span>, <span class="dv">200</span>, <span class="dv">0</span>)    <span class="co"># put the robot on the floor</span><br /><br />    straight()                  <span class="co"># go straight a few feet</span><br />    left()                      <span class="co"># turn left 90 degrees</span><br />    straight()                  <span class="co"># go straight a few feet</span><br />    left()                      <span class="co"># turn left 90 degrees</span><br />    straight()                  <span class="co"># go straight a few feet</span><br />    left()                      <span class="co"># turn left 90 degrees</span><br />    straight()                  <span class="co"># go straight a few feet</span><br />    left()                      <span class="co"># turn left 90 degrees</span><br /><br />    straight()                  <span class="co"># go straight a few feet</span><br />    left()                      <span class="co"># turn left 90 degrees</span><br />    straight()                  <span class="co"># go straight a few feet</span><br />    left()                      <span class="co"># turn left 90 degrees</span><br />    straight()                  <span class="co"># go straight a few feet</span><br />    left()                      <span class="co"># turn left 90 degrees</span><br />    straight()                  <span class="co"># go straight a few feet</span><br />    left()                      <span class="co"># turn left 90 degrees</span><br /><br />    ...<br /><br />start_simulator(make_square)</code></pre>
<p>It seems like I'm going to have to do a lot of typing: one line of code for each command the robot executes. Considering that we want the robot to make squares forever, I have to type forever. Unacceptable!</p>
<h2 id="while-loops">while-loops</h2>
<p>We've already seen the <strong>program counter</strong>: the special hidden variable that Python uses to keep track of what line of code is currently being executed. We can use a <strong>while-loop</strong> to cause the program counter to loop back to an earlier line in the program, causing certain lines of code to be executed over and over again. Here is <a href="roomba_rumba.py">roomba_rumba.py</a>:</p>
<pre class="sourceCode"><code class="sourceCode python"><span class="ch">from</span> robotsim <span class="ch">import</span> *<br /><br /><span class="kw">def</span> make_square():<br />    place_robot(<span class="dv">200</span>, <span class="dv">200</span>, <span class="dv">0</span>)    <span class="co"># put the robot on the floor</span><br /><br />    <span class="kw">while</span> <span class="ot">True</span>:<br />        straight()                  <span class="co"># go straight a few feet</span><br />        left()                      <span class="co"># turn left 90 degrees</span><br />        straight()                  <span class="co"># go straight a few feet</span><br />        left()                      <span class="co"># turn left 90 degrees</span><br />        straight()                  <span class="co"># go straight a few feet</span><br />        left()                      <span class="co"># turn left 90 degrees</span><br />        straight()                  <span class="co"># go straight a few feet</span><br />        left()                      <span class="co"># turn left 90 degrees</span><br /><br />start_simulator(make_square)</code></pre>
<p>A while-loop has two parts: a <strong>header</strong> and a <strong>body</strong>. The header looks like this:</p>
<pre class="sourceCode"><code class="sourceCode python"><span class="kw">while</span> condition:</code></pre>
<p>The <strong>condition</strong> is an expression that evaluates to a boolean value: either <code>True</code> or <code>False</code>. Notice that <code>while</code> is written in lowercase, and there is a colon after the condition.</p>
<p>The <strong>body</strong> of a while-loop is made up of the lines of code that we want to be executed multiple times. Just like a function, each line of code in the body is <em>indented</em>, using the tab key, to indicate that it is part of the body of the while-loop.</p>
<p>Here's what happens when Python reaches a line of code containing a header for a while-loop:</p>
<ol style="list-style-type: decimal">
<li>Python checks to see whether the condition evaluates to the value <code>True</code>.</li>
<li>If the condition evaluates to <code>True</code>, then Python executes the body of the while-loop. When Python gets to the end of the body (it runs out of indented lines), it goes back to the header and repeats step 1.</li>
<li>Once the condition evaluates to <code>False</code>, Python skips pver the body of the while-loop, and goes to the next line with the same level of indentation as <code>while</code>.</li>
</ol>
<p>Notice that Python evaluates the condition <em>only</em> when it enters the loop and when it gets to the bottom of the loop body. If something happens in the middle of the loop body that causes the condition to evaluate to <code>False</code>, the loop doesn't terminate until Python gets to the <em>end</em> of the body and goes back up to evaluate the condition in the header.</p>
<p>In our example, Python checks to see whether the condition evaluates to <code>True</code>. It sure is; in fact, it always evaluates to <code>True</code>. So Python executes the lines of code in the body until the body is finished. Then Python goes back up to the header. Is the condition <code>True</code>? Yep. So Python executes the body. Then to the header. Condition <code>True</code>? You betcha. Keep going.</p>
<p>At this point I'm sure you see a pattern. That condition is always going to be <code>True</code>. It says <code>True</code> right there. The robot will square dance until it runs out of battery power, or until you terminate the program. This loop is called an <strong>infinite loop</strong>, since it will run forever until you force a quit somehow.</p>
<h3 id="side-note-reading-code">Side note: Reading code</h3>
<p>When reading code containing a while-loop, try doing a couple of things:</p>
<ol style="list-style-type: decimal">
<li>First, think like a computer. Walk through the code one line at a time, carefully. Don't assume anything. Be one with the computer. Say: &quot;while-loop header.&quot; Check the condition. Does it evaluate to <code>True</code>? It does? Then execute the body. While-loop header. Check the condition. Does it evaluate to <code>True</code>? Etc. etc.</li>
<li>After you have read some code this way, look for a pattern.</li>
</ol>
<p>A classic mistake for beginning programmers is to look for the pattern too soon. Make sure you really step through the code carefully before you make an assumption about the pattern.</p>
<p>As a rule of thumb, check that your while-loop works when the body executes zero times, exactly one time, and exactly three times. There's a little programming ditty that I heard decades ago and still sticks in my mind:</p>
<blockquote>
<p>Zero, one, three—that's good enough for me.</p>
</blockquote>
<h3 id="side-note-good-programming-style">Side note: good programming style</h3>
<p>In order to keep the previous example simple, I made the program much longer than it needs to be. You could shorten it by noticing that a square is itself a repeated sequence of <code>straight</code> and <code>left</code> function calls, as we see in <a href="short_rumba.py">short_rumba.py</a>:</p>
<pre class="sourceCode"><code class="sourceCode python"><span class="ch">from</span> robotsim <span class="ch">import</span> *<br /><br /><span class="kw">def</span> make_square():<br />    place_robot(<span class="dv">200</span>, <span class="dv">200</span>, <span class="dv">0</span>)    <span class="co"># put the robot on the floor</span><br /><br />    <span class="kw">while</span> <span class="ot">True</span>:<br />        straight()                  <span class="co"># go straight a few feet</span><br />        left()                      <span class="co"># turn left 90 degrees</span><br /><br />start_simulator(make_square)</code></pre>
<p>That's clever, but shorter is not always better in terms of style. If we think of our robot as doing squares over and over again, it may make sense to write a program that clearly reflects that structure. One good way to do this is to write a function that <em>encapsulates</em> the details of the square. Like <a href="do_square.py">do_square.py</a>:</p>
<pre class="sourceCode"><code class="sourceCode python"><span class="ch">from</span> robotsim <span class="ch">import</span> *<br /><br /><span class="kw">def</span> do_square():<br />    straight()                  <span class="co"># go straight a few feet</span><br />    left()                      <span class="co"># turn left 90 degrees</span><br />    straight()                  <span class="co"># go straight a few feet</span><br />    left()                      <span class="co"># turn left 90 degrees</span><br />    straight()                  <span class="co"># go straight a few feet</span><br />    left()                      <span class="co"># turn left 90 degrees</span><br />    straight()                  <span class="co"># go straight a few feet</span><br />    left()                      <span class="co"># turn left 90 degrees</span><br /><br /><span class="kw">def</span> make_square():<br />    place_robot(<span class="dv">200</span>, <span class="dv">200</span>, <span class="dv">0</span>)    <span class="co"># put the robot on the floor</span><br /><br />    <span class="kw">while</span> <span class="ot">True</span>:<br />        do_square()<br /><br />start_simulator(make_square)</code></pre>
<p>To my eye, this last program, although longest, is actually the most readable, and therefore the best in terms of style.</p>
<h2 id="counting">Counting</h2>
<p>Here's a simple example of using a while-loop to write a program, <a href="count.py">count.py</a>, that will count until you force the program to quit by pressing the red stop button in Eclipse:</p>
<pre class="sourceCode"><code class="sourceCode python">n = <span class="dv">1</span><br /><br /><span class="kw">while</span> <span class="ot">True</span>:<br />    <span class="kw">print</span> n<br />    n = n + <span class="dv">1</span></code></pre>
<h3 id="a-clock">A clock</h3>
<p>From the counting program, you can see how fast Python executes code. What if you wanted to have the program pause one second in between each number? You could use the <code>sleep</code> function from the <code>time</code> module that comes with Python. Here is <a href="clock.py">clock.py</a>:</p>
<pre class="sourceCode"><code class="sourceCode python"><span class="ch">from</span> time <span class="ch">import</span> sleep<br /><br />n = <span class="dv">1</span><br /><br /><span class="kw">while</span> <span class="ot">True</span>:<br />    <span class="kw">print</span> n<br />    n = n + <span class="dv">1</span><br />    sleep(<span class="dv">1</span>)    <span class="co"># sleep for 1 second</span></code></pre>
<p>The <code>sleep</code> function causes the program to stop doing <em>anything</em>. We will use it occasionally.</p>
<h2 id="boolean-expressions-and-conditional-operators">Boolean expressions and conditional operators <code>&gt;</code>, <code>&lt;</code>, <code>&gt;=</code>, <code>&lt;=</code>, <code>==</code>, <code>!=</code></h2>
<p>We saw the boolean type briefly already. A boolean can have either the value <code>True</code> or the value <code>False</code>. In <a href="count_True.py">count_True.py</a>, it is always <code>True</code>.</p>
<pre class="sourceCode"><code class="sourceCode python"><span class="ch">from</span> time <span class="ch">import</span> sleep<br /><br />x = <span class="ot">True</span><br /><span class="kw">print</span> x<br />sleep(<span class="dv">3</span>)    <span class="co"># so we can see the value of x before all heck breaks loose</span><br /><br />n = <span class="dv">1</span><br /><br /><span class="kw">while</span> x:<br />    <span class="kw">print</span> n<br />    n = n + <span class="dv">1</span></code></pre>
<p>In Python, certain operators compute values that are <code>True</code> or <code>False</code>. Let's look at an example:</p>
<pre class="sourceCode"><code class="sourceCode python">x = <span class="dv">5</span><br /><span class="kw">print</span> x &lt; <span class="dv">4</span></code></pre>
<p>In Python, the less-than symbol is called a <strong>conditional operator</strong>, and like other operators, <em>it actually computes a value</em>. In fact, it computes a boolean value of <code>True</code> or <code>False</code>. In this example, since <code>x</code> currently has the value 5, <code>x &lt; 4</code> evaluates to the value <code>False</code>.</p>
<p>You can also store the results of a conditional operator in a variable:</p>
<pre class="sourceCode"><code class="sourceCode python">c = <span class="dv">5</span> &lt; <span class="dv">6</span><br /><span class="kw">print</span> c</code></pre>
<p>There are several conditional operators:</p>
<ul>
<li><code>&lt;</code> less than</li>
<li><code>&gt;</code> greater than</li>
<li><code>==</code> equal to</li>
<li><code>&gt;=</code> greater than or equal to</li>
<li><code>&lt;=</code> less than or equal to</li>
<li><code>!=</code> not equal to</li>
</ul>
<h3 id="common-programming-error-using-when-you-meant-to-use">Common programming error: using = when you meant to use ==</h3>
<p>Look at the next lines of code:</p>
<pre class="sourceCode"><code class="sourceCode python">x = <span class="dv">5</span><br /><span class="kw">print</span> x = <span class="dv">4</span>    <span class="co"># major problem on this line</span><br /><span class="kw">print</span> x == <span class="dv">4</span>   <span class="co"># you probably wanted this line instead</span></code></pre>
<p>The line of code <code>print x = 4</code> looks like it checks so see whether <code>x</code> = 4, but <em>it does not</em>. Recall: a single <code>=</code> sign is the <strong>assignment operator</strong>. You cannot put it inside a print statement, and so Python gives you an &quot;invalid syntax&quot; error.</p>
<p>You almost certainly wanted the version with <code>==</code>. The <code>==</code> operator computes a <code>True</code> or <code>False</code> value based on equality of its operands, so that <code>x == 4</code> computes to the value <code>False</code>.</p>
<h3 id="conditional-operators-work-on-floats-strings-and-boolean-values-too">Conditional operators work on floats, strings, and boolean values, too</h3>
<pre class="sourceCode"><code class="sourceCode python"><span class="kw">print</span> <span class="fl">3.14</span> &gt; <span class="fl">3.2</span>              <span class="co"># prints False</span><br /><span class="kw">print</span> <span class="st">&quot;aardvark&quot;</span> &lt; <span class="st">&quot;zebra&quot;</span>    <span class="co"># prints True (based on alphabetical order)</span><br /><span class="kw">print</span> <span class="ot">False</span> == <span class="ot">False</span>          <span class="co"># prints True</span><br /><span class="kw">print</span> <span class="ot">True</span> &gt; <span class="ot">False</span>            <span class="co"># Oddly, prints True</span></code></pre>
<h3 id="common-programming-error-using-to-compare-floats">Common programming error: using <code>==</code> to compare floats</h3>
<p>Floating-point numbers have limited precision. There are typically 64 bits assigned to each float. Recall that there are <span class="math">2<sup>64</sup></span> different patterns of 64 bits. Since each floating-point number needs its own unique pattern of bits, Python can only represent 2<sup>64</sup> possible different floats. There are infinitely many real numbers, and so floats must have limited precision.</p>
<p>In practice, this means that over time, small roundoff errors can build up in computations involving floats. Let's look at an example, in <a href="roundoff.py">roundoff.py</a>:</p>
<pre class="sourceCode"><code class="sourceCode python"><span class="ch">from</span> math <span class="ch">import</span> pi, sin<br /><br /><span class="kw">print</span> pi                  <span class="co"># prints 3.14159265359 </span><br /><span class="kw">print</span> sin(pi)             <span class="co"># prints 1.22464679915e-16 </span><br /><span class="kw">print</span> sin(pi) == <span class="dv">0</span>        <span class="co"># prints False.  Uh-oh!</span></code></pre>
<p>In this program, we see that Python only has an approximate value for <span class="math">π</span>. The numerical computation of the <code>sin</code> function is also approximate. We get an answer of 1.22464679915e-16, but you probably remember from math class that <span class="math">sin(π)</span> is equal to 0. If you compare 1.22464679915e-16 to 0, Python gives the answer <code>False</code>. Yes, 1.22464679915e-16 is <em>close</em> to 0, but it is <em>not equal</em> to 0.</p>
<p>One way to more safely compare floating-point numbers for equality is to check if the absolute value of the difference of the numbers is less than some small constant (often called &quot;epsilon&quot;), which you will have to set.</p>
<h2 id="logical-operators-and-or-and-not">Logical operators <code>and</code>, <code>or</code>, and <code>not</code></h2>
<p>The conditional operators <code>==</code>, <code>&lt;</code>, <code>&gt;</code>, etc, take two numbers, strings, or booleans, and check for equality.</p>
<p>The operators <code>and</code> and <code>or</code> take two boolean operands and evaluate to a boolean value:</p>
<ul>
<li><code>and</code> evaluates to <code>True</code> if and only if both of its operands are <code>True</code>. If either operand, or both, is <code>False</code>, then <code>and</code> evaluates to <code>False.</code></li>
<li><code>or</code> evaluates to <code>False</code> if and only if both of its operands are <code>False</code>. If either operand, or both, is <code>True</code>, then <code>or</code> evaluates to <code>True</code>.</li>
</ul>
<pre class="sourceCode"><code class="sourceCode python"><span class="kw">print</span> <span class="ot">True</span> and <span class="ot">True</span>      <span class="co"># prints True</span><br /><span class="kw">print</span> <span class="ot">True</span> and <span class="ot">False</span>     <span class="co"># prints False</span><br /><span class="kw">print</span> <span class="dv">3</span> &lt; <span class="dv">4</span> and <span class="dv">10</span> &lt; <span class="dv">12</span>  <span class="co"># prints True</span><br /><span class="kw">print</span> <span class="dv">3</span> &lt; <span class="dv">4</span> or <span class="dv">12</span> &lt; <span class="dv">10</span>   <span class="co"># prints True</span><br /><span class="kw">print</span> <span class="dv">4</span> &lt; <span class="dv">3</span> or <span class="dv">12</span> &lt; <span class="dv">10</span>   <span class="co"># prints False</span><br /><span class="kw">print</span> (<span class="dv">4</span> &lt; <span class="dv">3</span> and <span class="dv">12</span> &lt; <span class="dv">10</span>) or <span class="dv">7</span> == <span class="dv">7</span>  <span class="co"># prints True</span></code></pre>
<p>The <code>not</code> operator just takes a single boolean value and evaluates to the complement, i.e., the opposite. The complement of <code>False</code> is <code>True</code>, and the complement of <code>True</code> is <code>False</code>.</p>
<pre class="sourceCode"><code class="sourceCode python"><span class="kw">print</span> not <span class="dv">4</span> &lt; <span class="dv">3</span>          <span class="co"># prints True, since 4 &lt; 3 evaluates to False</span><br /><span class="kw">print</span> not not <span class="ot">True</span>       <span class="co"># prints True (since there are two nots)</span></code></pre>
<h3 id="short-circuiting-of-and-and-or">Short-circuiting of <code>and</code> and <code>or</code></h3>
<p>Notice that if the first operand of <code>and</code> evaluates to <code>False</code>, we're done: we know that the result of <code>and</code> <em>must</em> be <code>False</code>, regardless of the second operand. We don't even have to look at the second operand. Python <strong>short-circuits</strong> if it sees that the first operand of an <code>and</code> is <code>False</code>; it doesn't evaluate the second operand at all! This saves Python some computation, but the real advantage is that it allows you to avoid a potentially disastrous situation. Here's an example:</p>
<pre class="sourceCode"><code class="sourceCode python">x = <span class="dv">0</span><br /><span class="kw">print</span> x != <span class="dv">0</span> and <span class="dv">3</span>/x &gt; <span class="dv">4</span></code></pre>
<p>If not for the short-circuiting, Python would try to compute <code>3/x</code>. But <code>x</code> is 0, and so Python would complain and give a &quot;integer division or modulo by zero&quot; error, terminating the program.</p>
<p>Likewise, if the first operand of <code>or</code> evaluates to <code>True</code>, we know that the result of <code>or</code> <em>must</em> be <code>True</code>, regardless of the second operand. Again, Python short-circuits and does not evaluate the second operand whenever the first operand of an <code>or</code> is <code>True</code>.</p>
<h2 id="counting-with-a-while-loop">Counting with a while-loop</h2>
<p>One major use of boolean expressions is to provide termination conditions for a while-loop. <code>while True</code> will run forever. We need to choose a condition that might eventually become <code>False</code>. One choice is a boolean expression involving a variable whose value changes, in <a href="count_10.py">count_10.py</a>:</p>
<pre class="sourceCode"><code class="sourceCode python">n = <span class="dv">1</span><br /><br /><span class="kw">while</span> n &lt;= <span class="dv">10</span>:<br />    <span class="kw">print</span> n<br />    n = n + <span class="dv">1</span></code></pre>
<p>We call each time through the while-loop an <strong>iteration</strong>. So, on the first iteration, <code>n</code> initially has the value 1, is printed, and then is incremented from 1 to 2. <strong>Increment</strong> means to increase the value by 1. On the second iteration, <code>n</code> initially has the value 2, is printed, and then is incremented from 2 to 3. Eventually, <code>n</code> gets the value 10, is printed, and is incremented to 11. When we get back to the condition in the while-loop header, the condition <code>n &lt;= 10</code> evaluates to <code>False</code>, and we drop out of the while-loop.</p>
<h2 id="looping-for-animations">Looping for animations</h2>
<p>Loops are very useful whenever you want to do something over and over again. One example is a graphical animation. Think of how a flip-book animation works:</p>
<ol style="list-style-type: decimal">
<li>Go to the first page of the book.</li>
<li>There's a page with a frame of the animation. Display it.</li>
<li>Move to the next page.</li>
<li>Go back to step 2.</li>
</ol>
<p>You can use a similar approach to draw an animation using Python:</p>
<ol style="list-style-type: decimal">
<li>Create some variables that describe some properties of a frame of the animation. Call these the <strong>state variables</strong>.</li>
<li>Draw a frame of the animation, using the state variables.</li>
<li>Wait a brief time so that the human watching the animation can see the currently displayed frame.</li>
<li>Change the values of the state variables to describe the next frame.</li>
<li>Go back to step 2 (unless the state variables tell us that we're done).</li>
</ol>
<p>Here's an example, in <a href="growing_circle.py">growing_circle.py</a>:</p>
<pre class="sourceCode"><code class="sourceCode python"><span class="ch">from</span> cs1lib <span class="ch">import</span> *<br /><span class="ch">from</span> time <span class="ch">import</span> sleep<br /><br /><span class="kw">def</span> animate_circle():<br />    <span class="co"># initial setup can be done just once</span><br />    enable_smoothing()<br />    set_fill_color(<span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>)    <br /><br />    <span class="co"># Set a variable that will keep information about the current</span><br />    <span class="co"># state of the circle.  As this variable changes values in</span><br />    <span class="co"># the loop, the way the circle will be drawn will change in each</span><br />    <span class="co"># frame.</span><br />    radius = <span class="dv">1</span><br /><br />    <span class="kw">while</span> radius &lt; <span class="dv">200</span> and not window_closed():<br />        <span class="co"># draw the current frame</span><br />        <span class="co">#    (drawing is hidden, and will not</span><br />        <span class="co">#    actually appear on screen until requested later)</span><br /><br />        clear()<br />        draw_circle(<span class="dv">200</span>, <span class="dv">200</span>, radius)<br /><br />        <span class="co"># tell the graphics library to actually display the frame</span><br />        request_redraw()<br /><br />        <span class="co"># wait .02 seconds on this frame of the animation, so</span><br />        <span class="co">#  the person watching the animation can see it before we</span><br />        <span class="co">#  move to the next frame.</span><br />        sleep(.<span class="dv">02</span>)<br /><br />        <span class="co"># change the state for the next frame</span><br />        radius = radius + <span class="dv">1</span> <br /><br />start_graphics(animate_circle)</code></pre>
<p>This program introduces a few new functions. First, <code>window_closed</code> is a parameterless function in <code>cs1lib</code> that returns a boolean value. The value is <code>True</code> if the user has clicked the mouse on the close button for the window, and <code>False</code> otherwise.</p>
<p>Second is <code>enable_smoothing</code>. This parameterless function makes objects that don't have only vertical and horizontal boundaries drawn nicely.</p>
<p>Third, <code>request_redraw</code>. It turns out that when you call functions like <code>clear</code> or <code>draw_circle</code>, nothing actually happens immediately on the screen. Instead, the graphics commands are executed on a hidden image that you cannot see.</p>
<p>What? Why does <code>draw_circle</code> draw a circle on a hidden image that you cannot see? The reason is that it takes some time for Python to actually draw the circle. Maybe the boundary is drawn first, and then the filled part of the circle. Maybe it's filled in from top to bottom. It's a pretty fast process, but we might notice it as a distracting flicker.</p>
<p>The <code>request_redraw</code> function tells Python to actually copy the hidden image into the graphics window that we can see. So after your program has drawn the entire frame using functions such as <code>clear</code> or <code>draw_circle</code>, you should call <code>request_redraw</code> to actually display the frame.</p>
<p>Try this: Run the above program. Temporarily disable the call to <code>request_redraw</code> by putting a comment symbol <code>#</code> in front of that line. Run the program again. What happens?</p>
<h2 id="if-statements">if-statements</h2>
<p>The body of a while-loop may be executed any number of times, zero or more. What if you wanted to check whether a condition was <code>True</code>, and if so, execute some lines of code <em>exactly once</em>? We do so with an <strong>if-statement</strong>:</p>
<pre class="sourceCode"><code class="sourceCode python">temperature = <span class="dv">30</span>:<br /><span class="kw">if</span> temperature &lt;= <span class="dv">32</span><br />    <span class="kw">print</span> <span class="st">&quot;It's freezing.&quot;</span></code></pre>
<h2 id="nesting-of-while-loops-and-if-statements">Nesting of while-loops and if-statements</h2>
<p>Both while-loops and if-statements allow you to control how Python flows from one line of code to another in your program. <code>while</code> and <code>if</code> are therefore called <strong>flow-of-control</strong> constructs. You can also put one while-loop or if-statement <em>inside</em> another.</p>
<p>It is very common to see an if-statement inside a while-loop. For example, here is a program to print all of the integer factors of a number. The approach is to generate all positive integers between 1 and the number. Each time you generate a new integer, test to see whether it is a factor. If it is, then print it. The code is in <a href="factors.py">factors.py</a>:</p>
<pre class="sourceCode"><code class="sourceCode python">number = <span class="dv">42</span><br /><br />possible_factor = <span class="dv">1</span><br /><span class="kw">while</span> possible_factor &lt;= number:<br />    <span class="kw">if</span> number % possible_factor == <span class="dv">0</span>:   <br />        <span class="kw">print</span> <span class="dt">str</span>(possible_factor) + <span class="st">&quot; is a factor of &quot;</span> + <span class="dt">str</span>(number) + <span class="st">&quot;.&quot;</span><br /><br />    possible_factor = possible_factor + <span class="dv">1</span><br /><br /><span class="kw">print</span> <span class="st">&quot;And that's all the factors of &quot;</span> + <span class="dt">str</span>(number) + <span class="st">&quot;.&quot;</span> </code></pre>
<p>The if-statement header is indented once, because it is part of the body of the while-loop. The line starting with <code>print str(possible_factor)</code> is indented once from the <code>if</code>, since it is part of the if-statement body. The line starting with <code>possible_factor</code> is indented once from the while-loop's header, since it is part of the while-loop's body, but not part of the if-statement's body. The final <code>print</code> is not indented because it is not part of the while-loop's body.</p>
<p>We call the pattern that this program follows <strong>generate and test</strong>. We would like to find some answers to a problem. We have a way of testing whether a hypothesized answer is actually a solution. So we generate all reasonably possible answers, and test to see whether each is an answer. Such problems will often have a loop to generate the possible answers, and some series of tests (with if-statements) in the body of the loop to check if a possible answer is correct.</p>
<p>When you see a new problem, it's worth figuring out if the new problem could be solved by a generate-and-test approach. If so, you now have an idea about how you might implement a solution in code.</p>
<h2 id="else-statements">else-statements</h2>
<p>Frequently, you want to execute one set of lines of code if a condition holds, but execute a <em>different</em> set of lines if that condition does not hold. In this case, you can use an <strong>else-statement</strong>:</p>
<pre class="sourceCode"><code class="sourceCode python">temperature = <span class="dv">35</span><br /><span class="kw">if</span> temperature &lt;= <span class="dv">32</span>:<br />    <span class="kw">print</span> <span class="st">&quot;It's freezing&quot;</span><br /><span class="kw">else</span>:<br />    <span class="kw">print</span> <span class="st">&quot;It's not so cold.&quot;</span></code></pre>
<p>An else-statement must follow an if-statement at the same level of indentation, and it has no condition after it, since it is executed if the condition of the matching if statement is <code>False</code>. Note that there's a colon after <code>else</code>.</p>
<h2 id="elif-statements">elif-statements</h2>
<p>Sometimes you want to check if some condition is <code>True</code> only if some series of previous conditions were all <code>False</code>. You can use <code>elif</code>, which is short for &quot;else if.&quot; Like in <a href="elif.py">elif.py</a>:</p>
<pre class="sourceCode"><code class="sourceCode python">temperature = <span class="dv">72</span><br /><br /><span class="kw">if</span> temperature &lt;= <span class="dv">32</span>:<br />    <span class="kw">print</span> <span class="st">&quot;It's freezing.&quot;</span><br /><span class="kw">elif</span> temperature &lt;= <span class="dv">50</span>:<br />    <span class="kw">print</span> <span class="st">&quot;It's cool.&quot;</span><br /><span class="kw">elif</span> temperature &lt;= <span class="dv">75</span>:<br />    <span class="kw">print</span> <span class="st">&quot;It's warm.&quot;</span><br /><span class="kw">else</span>:<br />    <span class="kw">print</span> <span class="st">&quot;It's hot.&quot;</span></code></pre>
<h2 id="a-larger-example">A larger example</h2>
<p>Try running <a href="pulse_circle.py">pulse_circle.py</a>:</p>
<pre class="sourceCode"><code class="sourceCode python"><span class="ch">from</span> cs1lib <span class="ch">import</span> *<br /><br /><span class="kw">def</span> pulse_circle():<br />    radius= <span class="dv">1</span><br />    growing = <span class="ot">True</span><br /><br />    disable_stroke()<br />    enable_smoothing()<br /><br />    <span class="kw">while</span> not window_closed():<br />        <span class="co"># draw current frame onto a &quot;hidden&quot; background image</span><br /><br />        clear()<br /><br />        set_fill_color(<span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>)  <span class="co"># set the fill color to red</span><br />        draw_circle(<span class="dv">200</span>, <span class="dv">200</span>, radius)<br /><br />        set_fill_color(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>)  <span class="co"># blue</span><br />        draw_circle(<span class="dv">200</span>, <span class="dv">200</span>, radius / <span class="dv">2</span>)<br /><br />        set_fill_color(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">0</span>)  <span class="co"># yellow</span><br />        draw_circle(<span class="dv">200</span>, <span class="dv">200</span>, radius / <span class="dv">4</span>)<br /><br />        <span class="co"># copy the hidden image into the window</span><br />        request_redraw()<br /><br />        <span class="co"># Wait before drawing the next frame,</span><br />        <span class="co">#  so the user can see the frame just drawn</span><br />        sleep(.<span class="dv">02</span>)<br /><br />        <span class="co"># update the state for the next frame</span><br />        <span class="kw">if</span> growing:<br />            radius = radius + <span class="dv">2</span><br />        <span class="kw">else</span>:<br />            radius = radius - <span class="dv">2</span><br /><br />        <span class="kw">if</span> radius &gt;= <span class="dv">200</span> or radius &lt;=<span class="dv">1</span>:<br />            growing = not growing<br /><br />        sleep(.<span class="dv">02</span>)<br /><br />start_graphics(pulse_circle)</code></pre>
</body>
</html>
