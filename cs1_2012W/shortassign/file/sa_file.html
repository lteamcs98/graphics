<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="generator" content="pandoc" />
  <title></title>
  <style type="text/css">
/*<![CDATA[*/
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode, table.sourceCode pre 
   { margin: 0; padding: 0; border: 0; vertical-align: baseline; border: none; }
td.lineNumbers { border-right: 1px solid #AAAAAA; text-align: right; color: #AAAAAA; padding-right: 5px; padding-left: 5px; }
td.sourceCode { padding-left: 5px; }
code.sourceCode span.kw { color: #007020; font-weight: bold; } 
code.sourceCode span.dt { color: #902000; }
code.sourceCode span.dv { color: #40a070; }
code.sourceCode span.bn { color: #40a070; }
code.sourceCode span.fl { color: #40a070; }
code.sourceCode span.ch { color: #4070a0; }
code.sourceCode span.st { color: #4070a0; }
code.sourceCode span.co { color: #60a0b0; font-style: italic; }
code.sourceCode span.ot { color: #007020; }
code.sourceCode span.al { color: red; font-weight: bold; }
code.sourceCode span.fu { color: #06287e; }
code.sourceCode span.re { }
code.sourceCode span.er { color: red; font-weight: bold; }
/*]]>*/
  </style>
</head>
<body>
<script type="text/javascript"
  src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
});
</script>

<link rel="stylesheet" href="http://www.cs.dartmouth.edu/~cs1/azul.css" type="text/css" />


<div id = "menubar">
<ul>
<li><a href="http://www.cs.dartmouth.edu/~cs1/syllabus.html">Syllabus</a>
<li><a href="http://www.cs.dartmouth.edu/~cs1/schedule.html">Schedule</a>
<li><a href="http://www.cs.dartmouth.edu/~cs1/shortassign/short_assignments.html">Short assignments</a>
<li><a href="http://www.cs.dartmouth.edu/~cs1/labs/lab_assignments.html">Labs</a>
<li><a href="http://www.cs.dartmouth.edu/~cs1/exams.html">Exams</a>
<li><a href="http://www.cs.dartmouth.edu/~cs1/software.html">Course software</a>
<li> <a href="http://greenteapress.com/thinkpython/thinkpython.html">Book</a>
<li><A HREF="&#109;&#97;&#105;&#108;&#116;&#111;&#58;%63%73%31%68%65%6C%70%40%63%73%2E%64%61%72%74%6D%6F%75%74%68%2E%65%64%75">Get help</A>
</ul>
</div>

<div id = "termtitle"> CS 1:  Winter 2012 </div> 
<h1 id="short-assignment-10-file-input-and-output-due-wednesday-february-15">Short Assignment #10: File Input and Output <br />Due: Wednesday, February 15</h1>
<p>In <a href="../../labs/quicksort/lab_quicksort.html">Lab Assignment 3</a>, you will need to read and write text files, and we won't be covering how to do so in class. This short assignment will teach you how to read and write text files, and how to do some simple text processing.</p>
<p>You will read the file <a href="states.txt">states.txt</a>, which contains the names of U.S. states, separated by commas, on several lines:</p>
<pre><code>Maine, New Hampshire,  Vermont, Massachusetts
  Rhode Island,Connecticut  , New York,  New Jersey   , Delaware,Pennsylvania
Maryland,  Virginia    ,West Virginia  , North Carolina,South Carolina,
Georgia
    Florida,Alabama,   Mississippi, Tennessee,Kentucky  ,
Ohio,   Indiana, Michigan, Wisconsin,Illinois,   Missouri, Arkansas,    Louisiana   ,   
         Texas, Oklahoma,Kansas,    Nebraska ,  ,  ,
Iowa,        Minnesota, South Dakota,North Dakota,  ,  
  Montana, Wyoming,  Colorado,New Mexico,      Arizona, , , , Utah,
Idaho, Washington,   Oregon,Nevada, California,
Alaska,          Hawaii
</code></pre>
<p>Some of the state names are empty, and you will need to ignore these. Your program should read the names of the states (I've put all 50 in the file, but your code should not rely on this property when reading the file) into a Python list, sort the list alphabetically, and then write it out to a file named sorted_states.txt, with exactly five states per line, and with states on a line separated by a comma and a space. Here are the first two lines of what your sorted_states.txt file should look like:</p>
<pre><code>Alabama, Alaska, Arizona, Arkansas, California
Colorado, Connecticut, Delaware, Florida, Georgia
</code></pre>
<p>To sort the list of states, you may use whichever sorting algorithm you like. We've seen selection sort and merge sort in lecture, and you've written insertion sort in <a href="../insertion/sa_insertion.html">Short Assignment 9</a>.</p>
<h2 id="how-to-read-from-a-file">How to read from a file</h2>
<p>Reading from a file follows this basic paradigm:</p>
<ol style="list-style-type: decimal">
<li>Open the file for reading.</li>
<li><p>For each line in the file:</p>
<ol style="list-style-type: lower-alpha">
<li>Read the line from the file.</li>
<li>Process the line. In other words, do whatever you need to do with the line.</li>
</ol></li>
<li><p>Close the file.</p></li>
</ol>
<p>To open a file for reading, call the built-in Python function <code>open</code>. It takes two parameters, both strings. The first parameter gives the name of the file. The second parameter should be the string <code>&quot;r&quot;</code>, which indicates that you're reading from the file. The function returns a reference to an object representing the file. For example, to open the file moby_dick.txt for reading:</p>
<pre class="sourceCode"><code class="sourceCode python">file_name = <span class="st">&quot;moby_dick.txt&quot;</span><br />in_file = <span class="dt">open</span>(file_name, <span class="st">&quot;r&quot;</span>)</code></pre>
<p>Of course, you could get that down to a single line:</p>
<pre class="sourceCode"><code class="sourceCode python">in_file = <span class="dt">open</span>(<span class="st">&quot;moby_dick.txt&quot;</span>, <span class="st">&quot;r&quot;</span>)</code></pre>
<p>To read lines from the file, you use a for-loop:</p>
<pre class="sourceCode"><code class="sourceCode python"><span class="kw">for</span> line in in_file:<br />    <span class="co"># Do something with line</span></code></pre>
<p>Here, in each iteration of the loop, the variable <code>line</code> will be a line from the file. In particular, it will be a string containing <em>all</em> the characters in the line, including the newline character (<code>&quot;\n&quot;</code>). For example, if you open the file states.txt and print <code>line</code> in the first iteration of the for-loop, you'll print</p>
<pre><code>Maine, New Hampshire,  Vermont, Massachusetts
</code></pre>
<p>with a newline at the end. Consequently, the for-loop</p>
<pre class="sourceCode"><code class="sourceCode python"><span class="kw">for</span> line in in_file:<br />    <span class="kw">print</span> line</code></pre>
<p>would produce the following console output:</p>
<pre><code>Maine, New Hampshire,  Vermont, Massachusetts

  Rhode Island,Connecticut  , New York,  New Jersey   , Delaware,Pennsylvania

Maryland,  Virginia    ,West Virginia  , North Carolina,South Carolina,

Georgia

    Florida,Alabama,   Mississippi, Tennessee,Kentucky  ,

Ohio,   Indiana, Michigan, Wisconsin,Illinois,   Missouri, Arkansas,    Louisiana   ,   

         Texas, Oklahoma,Kansas,    Nebraska ,  ,  ,

Iowa,        Minnesota, South Dakota,North Dakota,  ,  

  Montana, Wyoming,  Colorado,New Mexico,      Arizona, , , , Utah,

Idaho, Washington,   Oregon,Nevada, California,

Alaska,          Hawaii
</code></pre>
<p>Notice the extra newline at the end of each line. Why the extra newline? Because <code>line</code> contains the newline from the file, and the print statement also adds a newline at the end of the line. If we were to add a comma at the end of the print statement, we'd get just one newline per line. That is,</p>
<pre class="sourceCode"><code class="sourceCode python"><span class="kw">for</span> line in in_file:<br />    <span class="kw">print</span> line,</code></pre>
<p>would produce the console output</p>
<pre><code>Maine, New Hampshire,  Vermont, Massachusetts
  Rhode Island,Connecticut  , New York,  New Jersey   , Delaware,Pennsylvania
Maryland,  Virginia    ,West Virginia  , North Carolina,South Carolina,
Georgia
    Florida,Alabama,   Mississippi, Tennessee,Kentucky  ,
Ohio,   Indiana, Michigan, Wisconsin,Illinois,   Missouri, Arkansas,    Louisiana   ,   
         Texas, Oklahoma,Kansas,    Nebraska ,  ,  ,
Iowa,        Minnesota, South Dakota,North Dakota,  ,  
  Montana, Wyoming,  Colorado,New Mexico,      Arizona, , , , Utah,
Idaho, Washington,   Oregon,Nevada, California,
Alaska,          Hawaii
</code></pre>
<p>When you're all done reading from a file, you must close it. (Your mother told you to close something you'd opened when you were done with it, right? I know <em>my</em> mother told <em>me</em>.) To close a file, you call the <code>close</code> <em>method</em> on the object that <code>open</code> returned:</p>
<pre class="sourceCode"><code class="sourceCode python">in_file.close()</code></pre>
<p>Putting it all together, here's how you read and process a file:</p>
<pre class="sourceCode"><code class="sourceCode python">in_file = <span class="dt">open</span>(file_name, <span class="st">&quot;r&quot;</span>)<br /><br /><span class="kw">for</span> line in in_file:<br />    <span class="co"># Do something with line</span><br /><br />in_file.close()</code></pre>
<p>There's nothing special about the identifiers <code>in_file</code> and <code>line</code>. You may use whatever name you like for the reference to the file object and for the string that is read from each line of the file.</p>
<h2 id="how-to-write-to-a-file">How to write to a file</h2>
<p>Writing to a file is similar to reading from a file, but it differs in some important ways.</p>
<p>First, you have to open the file for writing. The second parameter to the <code>open</code> function shouldn't be <code>&quot;r&quot;</code>. Instead, you have your choice of <code>&quot;w&quot;</code> or <code>&quot;a&quot;</code>. If you want to <em>append</em> to a file, choose <code>&quot;a&quot;</code>. If you want to overwrite the file if it already exists, choose <code>&quot;w&quot;</code>. If the file doesn't exist and you choose <code>&quot;a&quot;</code>, you get the same effect as choosing <code>&quot;w&quot;</code>. So, for example:</p>
<pre class="sourceCode"><code class="sourceCode python">out_file = <span class="dt">open</span>(file_name, <span class="st">&quot;w&quot;</span>)</code></pre>
<p>There's nothing special about the name <code>out_file</code>; use whatever name you like.</p>
<p>Just as you close a file that you're reading when you're done reading from it, you <em>must</em> close a file that you're writing when you're done writing to it. You call the <code>close</code> method just as you call it for reading:</p>
<pre class="sourceCode"><code class="sourceCode python">out_file.close()</code></pre>
<p>To write to a file, call the <code>write</code> method on the file. This method takes one parameter, a string, and it writes to the end of the file. If you want a newline in the file, you have to put it into the string yourself.</p>
<p>For example:</p>
<pre class="sourceCode"><code class="sourceCode python">out_file = <span class="dt">open</span>(<span class="st">&quot;gettysburg.txt&quot;</span>, <span class="st">&quot;w&quot;</span>)<br />out_file.write(<span class="st">&quot;Four score and seven years ago,</span><span class="ch">\n</span><span class="st">&quot;</span>)<br />out_file.write(<span class="st">&quot;our fathers brought forth on this continent, a new nation,</span><span class="ch">\n</span><span class="st">&quot;</span>)<br />out_file.write(<span class="st">&quot;conceived in Liberty, and dedicated to the proposition &quot;</span>)<br />out_file.write(<span class="st">&quot;that all men are created equal.</span><span class="ch">\n</span><span class="st">&quot;</span>)<br />out_file.close()</code></pre>
<p>produces the file gettysburg.txt:</p>
<pre><code>Four score and seven years ago,
our fathers brought forth on this continent, a new nation,
conceived in Liberty, and dedicated to the proposition that all men are created equal.
</code></pre>
<p>Of course, you may call the <code>write</code> method within a loop.</p>
<h3 id="how-to-process-a-line-of-text-from-a-file">How to process a line of text from a file</h3>
<p>In this short assignment, as well as in <a href="../../labs/quicksort/lab_quicksort.html">Lab Assignment 3</a>, you will read and process a text file in which each line contains meaningful text separated by commas. There might be whitespace (spaces, tabs, newlines) around the meaningful text, however. You are in luck, because Python provides two E-Z methods for separating text based on a delimiter (such as a comma) and for stripping away the whitespace around text.</p>
<p>To separate text, use the <code>split</code> method on the string. It returns a list of the strings that, concatenated with the delimiter added in, gives you back the string. This idea is best shown by an example:</p>
<pre class="sourceCode"><code class="sourceCode python">s = <span class="st">&quot;a man, a plan, a canal,&quot;</span><br />clauses = s.split(<span class="st">&quot;,&quot;</span>)<br /><span class="kw">print</span> clauses</code></pre>
<p>prints</p>
<pre><code>['a man', ' a plan', ' a canal', '']
</code></pre>
<p>Note that every character other than the commas becomes part of one of the strings in the list. Not only do the spaces after the first two commas become part of strings in the list, but we also get an empty string at the end. Why? Because the string <code>s</code> ends with a comma, and so the <code>split</code> method gives back the empty string after the comma.</p>
<p>You can use any character as the delimiter, and the default is a space character. More examples:</p>
<pre class="sourceCode"><code class="sourceCode python">s = <span class="st">&quot;Roll out the barrel&quot;</span><br />words = s.split()<br /><span class="kw">print</span> words</code></pre>
<p>prints</p>
<pre><code>['Roll', 'out', 'the', 'barrel']
</code></pre>
<p>And</p>
<pre class="sourceCode"><code class="sourceCode python">s = <span class="st">&quot;commander--in-chief&quot;</span><br />parts = s.split(<span class="st">&quot;-&quot;</span>)<br /><span class="kw">print</span> parts</code></pre>
<p>prints</p>
<pre><code>['commander', '', 'in', 'chief']
</code></pre>
<p>Again, note the empty string caused by two delimiters in a row.</p>
<p>To strip away whitespace from the beginning and end of a string, call the <code>strip</code> method on the string:</p>
<pre class="sourceCode"><code class="sourceCode python">s = <span class="st">&quot;  The thousand injuries of Fortunato I had borne as best I could, </span><span class="ch">\n</span><span class="st">&quot;</span><br />t = <span class="st">&quot;|&quot;</span> + s.strip() + <span class="st">&quot;|&quot;</span><br /><span class="kw">print</span> t</code></pre>
<p>prints</p>
<pre><code>|The thousand injuries of Fortunato I had borne as best I could,|
</code></pre>
<p>I put the vertical bar characters in so that you could see where the string returned by the call <code>s.strip()</code> begins and ends.</p>
<p>For this short assignment, remember that you are to construct a list containing only non-empty state names, with no whitespace before or after each name. Then sort the list, using the sorting algorithm of your choice, and write it to a file as described above.</p>
<h2 id="what-to-hand-in">What to hand in</h2>
<p>Submit your Python code and the sorted_states.txt file.</p>
</body>
</html>
